## 2.6 编排实例
### 2.6.1 实例一：经典 STT → LLM → TTS（全双工）

最常见的 TEN 管线是全双工的语音对话：

```Plain
RTC In
  → VAD / Turn Detection
  → STT (流式)
  → LLM (Function Call + RAG)
  → TTS (流式)
  → RTC Out
```

整个过程流式进行。

当用户说话时，VAD 识别语音段并将帧流送入 STT；

STT 输出部分识别结果传给 LLM；

LLM 开始生成 token；

每个 token 实时触发 TTS 生成音频块返回给 RTC。

当用户在系统播放时插话，VAD 会检测到新的音频活动，TEN 会发出控制消息中止当前 TTS，取消 LLM 推理并切回监听状态。

所有这些逻辑都通过图定义完成，无需手写复杂的条件判断。

---

### 2.6.2 实例二：实时 API 管线（Voice-to-Voice LLM）

另一种架构使用实时多模态 API 替代传统 STT+LLM 组合：

```Plain
RTC In
  → Realtime API (LLM+ASR)
  → TTS
  → RTC Out
```

在这种模式下，语音识别与语言推理由一个端到端模型完成，TTS 模块只在必要时作为后备或声音克隆组件。即便架构更简单，开发者仍可在 TEN 图中挂载 VAD 和 Turn Detection 模块，以在实时流中实现打断控制和状态管理。

这种混合模式兼顾了端到端的流畅体验与编排系统的可控性。